<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><!--Design by TEMPLATEDhttp://templated.coReleased for free under the Creative Commons Attribution LicenseName       : Big Business 2.0Description: A two-column, fixed-width design with a bright color scheme.Version    : 1.0Released   : 20120624--><html xmlns="http://www.w3.org/1999/xhtml">  <head>    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />    <meta name="description" content="" />    <meta name="keywords" content="" />    <title>Documentation de p5Visuel</title>    <link rel="stylesheet" type="text/css" href="style.css" />    <script type="text/javascript" src="styleSheets/jquery.min.js"></script>    <script type="text/javascript" src="styleSheets/jquery.dropotron-1.0.js"></script>  </head>  <body>    <div id="wrapper">      <div id="header">        <div id="logo">          <h1><a href="#">Documentation de <i>p5Visuel</i></a></h1>        </div>        <div id="slogan">          <h2>par <a target="_blank" href="../../../../index.php">André Boileau</a></h2>        </div>      </div>      <div id="menu"></div>      <script type="text/javascript">	$(function() {		$('#menu').load('menus.html',{}, function() {		$('#menu > ul').dropotron({			mode: 'fade',			globalOffsetY: 11,			offsetY: -15		});		$('head').append('<link rel="stylesheet" href="style.css" type="text/css" />');		});	});</script> <div id="page">        <div id="content">          <div class="box">            <h2>Catégorie : Programmation</h2>            <p>Même si <strong><em>Blockly</em></strong> intègre par défaut les              constructions de base utilisées en programmation, il n'en reste              pas moins qu'il subsiste des oublis importants, surtout si on veut              créer des programmes plus élaborés. Par exemple : la possibilité              d'insérer des commentaires, d'utiliser des variables locales, de              connaître l'état et la position de la souris, et d'afficher des              expressions mathématiques. C'est la raison d'être de cette              catégorie de blocs.</p>            <br />            <h4><a id="commentaire"></a>Commentaire</h4>            <center><img src="images/programmation/commentaire.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur texte (le texte vide par défaut, mais qui peut être              une expression textuelle quelconque)<br />              <br />              Fonctionnement<br />              • un commentaire ne modiie en rien l'exécution d'un programme : il              est tout simplement ignoré<br />              • en fait, les commentaires servent à renseigner l'humain qui veut              comprendre le programme<br />              <br />              Remarques<br />              • éviter les commentaires «évidents», qui ne font que décrire en              mots l'action d'un ou de plusieurs blocs</p>            <br />            <h4><a id="faire"></a>Faire</h4>            <center><img src="images/programmation/faire.png" alt="" height="60px" /></center>            <p> Paramètres<br />              • un bloc <em>fonction</em> avec composante <em>retour</em><br />              <br />              Fonctionnement<br />              • exécute la <em>fonction</em> en question, et « oublie » la              valeur retournée, s'il y en a une<br />              • effet visuel : transforme en un bloc <em>fonction</em> sans              composante <em>retour</em><br />              <br />              Remarques<br />              • pour une discussion plus détaillée, voir l'<a href="#appendice1">appendice                ci-dessous</a><br />              <br />            </p>            <h4><a id="faireDelai"></a>Faire après délai</h4>            <center><img src="images/programmation/faireDelai.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • un bloc <em>fonction</em> avec composante <em>retour</em><br />              • une valeur <em>délai</em> (0 ci-dessus, mais qui peut être une              expression numérique quelconque)<br />              <br />              Fonctionnement<br />              • attend le temps spécifié, puis exécute la fonction en question<br />              • effet visuel : transforme en un bloc <em>fonction</em> sans              composante <em>retour</em><br />              <br />              Remarques<br />              • les blocs successifs d'un programme <strong><em>p5Visuel </em></strong>sont              donc exécutés séquentiellement, mais on n'attend pas              nécessairement <br />                que l'exécution du bloc courant soit terminée avant de commencer              l'exécution du bloc suivant. C'est le cas, par exemple, <br />                lorsqu'on accomplit une tâche comme charger un fichier. Il              existe plusieurs mécanismes pour gérer ce phénomène, <br />                et l'exécution après <em>délai</em> en est un.</p>            <br />            <h4><a id="varLocale"></a>Variable locale</h4>            <center><img src="images/programmation/varLocale.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • un bloc <em>variable</em><em></em><br />              <br />              Fonctionnement<br />              • déclare que la variable en question est locale<em></em><br />              <br />              Remarques<br />              • par défaut, toutes les variables de <strong><em>p5Visuel</em></strong>              sont globales<br />              • ce bloc doit être utilisé à l'intérieur de la définition d'une              fonction (pour déclarer une variable locale à cette fonction)<br />              • ce bloc n'a aucun effet s'il est utilisé en dehors de la              définition d'une fonction</p>            <br />            <h4><a id="quitter"></a>Quitter la fonction</h4>            <center><img src="images/programmation/quitter.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une <em>valeur</em> (facultative)<br />              <br />              Fonctionnement<br />              • termine immédiatement l'exécution de la fonction contenant ce              bloc<br />              • si un paramètre <em>valeur</em> est présent, la <em>valeur</em>              est retournée (dans le contexte d'appel de la fonction)</p>            <br />            <h4><a id="nombreP"></a>Est un nombre ?</h4>            <center><img src="images/programmation/nombreP.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>expression</em> (vide ci-dessus, mais qui peut              être une expression textuelle quelconque)<br />              <br />              Fonctionnement<br />              • retourne <em>vrai</em> si l'<em>expression</em> en question              représente un nombre, et <em>faux</em> sinon<br />              <br />              Remarques<br />              • exemple de nombre reconnu  :  -14.4729 (point décimal et non              virgule décimale)<br />              • exemple de nombre non reconnu : 1+1 (les opérations              arithmétiques ne sont pas acceptées)</p>            <br />            <h4><a id="evaluer"></a>Évaluer une expression constante</h4>            <center><img src="images/programmation/evaluer.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>expression</em> (vide ci-dessus, mais qui peut              être un calcul mathématique sans variables)<br />              <br />              Fonctionnement<br />              • retourne la valeur de l'<em>expression</em> en question<br />              • si l'<em>expression</em> comporte une variable ou une erreur,              retourne <i>NaN</i><br />              <br />              Remarques<br />              • utile pour évaluer une expression entrée par l'utilisateur du              programme</p>            <br />            <h4><a id="radians"></a>Radians</h4>            <center><img src="images/programmation/radians.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>angle</em> (0 ci-dessus, mais qui peut être une              expression numérique quelconque)<br />              <br />              Fonctionnement<br />              • suppose que <em>angle</em> est exprimé en degrés, et retourne <em>angle</em>              exprimé en radians<br />            </p>            <h4><a id="degres"></a>Degrés</h4>            <center><img src="images/programmation/degres.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>angle</em> (0 ci-dessus, mais qui peut être une              expression numérique quelconque)<br />              <br />              Fonctionnement<br />              • suppose que <em>angle</em> est exprimé en radians, et retourne              <em>angle</em> exprimé en degrés</p>            <br />            <h4><a id="boutonPresse"></a>Bouton de souris enfoncé ?</h4>            <center><img src="images/programmation/boutonPresse.png" alt="" height="60px" /></center>            <p>Paramètres : aucun<br />              <br />              Fonctionnement<br />              • retourne <em>vrai</em> si le bouton de la souris est enfoncé,              et <em>faux</em> sinon</p>            <br />            <h4><a id="sourisX"></a>Position X souris</h4>            <center><img src="images/programmation/sourisX.png" alt="" height="60px" /></center>            <p>Paramètres : aucun<br />              <br />              Fonctionnement<br />              • retourne la coordonnée en <em>x</em> de la position de la              souris<br />              • le système de coordonnées choisi dépend de la zone graphique choisie (à l'aide du bloc <a href="p5js.html#choixZoneGraphique" target="_blank"><i>Choisir la zone graphique</i></a>)<br />                  *  le canevas (qui est une zone graphique avec des propriétés particulières)<br />                  *  une zone graphique<br />                  *  la fenêtre contenant la page web (dans le cas où aucune zone graphique n'a été spécifiée)<br />              <br />              Remarques<br />              • la position est spécifiée dans le système de coordonnées de l'objet choisi : <br />                  * l'origine (0,0) en en haut à gauche du canevas, de la zone graphique, ou de la fenêtre<em><br />                    * </em>l'axe des <em>x</em> pointe vers la droite<em><br />                    * </em>l'axe des <em>y</em> pointe vers le bas<br />              • si aucun choix n'a été fait au moyen du bloc <i>Choisir la zone graphique</i>, on utilisera la dernière zone graphique créée<br />                si aucune zone graphique n'a été créée, on utilisera la fenêtre</p>            <br />            <h4><a id="sourisY"></a>Position Y souris</h4>            <center><img src="images/programmation/sourisY.png" alt="" height="60px" /></center>            <p>Paramètres : aucun<br />              <br />              Fonctionnement<br />              • retourne la coordonnée en <em>y</em> de la position de la              souris<br />              • le système de coordonnées choisi dépend de la zone graphique choisie (à l'aide du bloc <a href="p5js.html#choixZoneGraphique" target="_blank"><i>Choisir la zone graphique</i></a>)<br />                  *  le canevas (qui est une zone graphique avec des propriétés particulières)<br />                  *  une zone graphique<br />                  *  la fenêtre contenant la page web (dans le cas où aucune zone graphique n'a été spécifiée)<br />              <br />              Remarques<br />              • la position est spécifiée dans le système de coordonnées de l'objet choisi : <br />                  * l'origine (0,0) en en haut à gauche du canevas, de la zone graphique, ou de la fenêtre<em><br />                    * </em>l'axe des <em>x</em> pointe vers la droite<em><br />                    * </em>l'axe des <em>y</em> pointe vers le bas<br />              • si aucun choix n'a été fait au moyen du bloc <i>Choisir la zone graphique</i>, on utilisera la dernière zone graphique créée<br />                si aucune zone graphique n'a été créée, on utilisera la fenêtre</p>            <br />            <h4><a id="remplacer"></a>Remplacer dans texte</h4>            <center><img src="images/programmation/remplacer.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>texte</em> (rien ci-dessus, mais qui peut être              une variable quelconque)<br />              • une valeur <em>avant</em> (vide ci-dessus, mais qui peut être              un  texte quelconque)<br />              • une valeur <em>après</em> (vide ci-dessus, mais qui peut être              un texte  quelconque)<br />              <br />              Fonctionnement<br />              •<em> </em>dans le <em>texte</em>, remplace toutes les              occurences de la chaîne de caractères <em>avant</em> par la              chaîne de caractères <em>après</em></p>            <br />            <h4><a id="substituer"></a>Substituer valeurs dans expression</h4>            <center><img src="images/programmation/substituer.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>texte</em> (rien ci-dessus, mais qui peut être              une variable quelconque)<br />              • une valeur <em>liste</em> (rien ci-dessus, mais qui peut être              une  liste quelconque)<br />              <br />              Fonctionnement<br />              •<em> </em>dans le <em>texte</em>, remplace toutes les              occurences de @n<em></em> par le (n-1) ième élément de la liste<em></em><br />              <br />              Remarques<br />              • exemple : si le texte est "@1+@2" et si la liste est [0,1] alors              le texte retourné sera "0+1"<br />              <img src="images/divers/vgSubstituer.png" alt="" height="90px" /><br />              • notez qu'on compte les occurences à partir de 1 (@0 ne serait              pas modifié) même si les éléments de la liste débutent au 0 ième</p>            <br />            <h4><a id="finaliserMaths"></a>Finaliser expressions mathématiques</h4>            <center><img src="images/programmation/finaliserMaths.png" alt="" height="60px" /></center>            <p>Paramètres : aucun<br />              <br />              Fonctionnement<br />              •<em> </em>demande à <em>MathJax</em> de faire le rendu de              toutes les expressions mathématiques fabriquées à l'aide de blocs              <em>code math</em><br />              <br />              Remarques<br />              • ce bloc est habituellement placé à la fin des instructions              déclenchées par un clic de bouton, un changement de valeur <br />                d'une glissière, ou de la fonction <em>actions en boucle</em> </p>            <br />            <h4><a id="codeMath"></a>Code math</h4>            <center><img src="images/programmation/codeMath.png" alt="" height="60px" /></center>            <p>Paramètres<br />              • une valeur <em>texte</em> (rien ci-dessus, mais qui peut être              une variable quelconque)<br />              <br />              Fonctionnement<br />              •<em> </em>le <em>texte</em> entré en paramètre doit être un              code <em>AsciiMath</em> (par exemple : un code produit par le <a                href="http://visualmatheditor.equatheque.net/VisualMathEditor.html?style=aguas&localType=fr_FR&codeType=AsciiMath&encloseAllFormula=false&saveOptionInCookies=false&equation=frac(-b+-sqrt(b^2-4ac))(2a)"                target="_blank">Visual                Math Editor</a>)<br />              • le texte retourné par le bloc est une version compréhensible par              <em>MathJax</em><br />              <br />              Remarques<br />              • le recours au bloc <em>code math</em> ne provoque pas le rendu              de l'expression mathématique en symbolisme usuel :<br />                pour celà, il faudra avoir recour au bloc <em>Finaliser les                expressions mathématiques</em></p>            <br />            <h4><a id="axes"></a>Choix du type d'axes du canevas</h4>            <center><img src="images/programmation/axes.png" height="50px" alt="" /></center>            <p>Paramètres<br />              • <i>choix</i> entre deux types d'axes <br />                   informatique (origine en haut à gauche)<br />                   mathématique (origine au centre)<br />              <br />              Fonctionnement<br />              • le choix des axes doit se faire <b>avant</b> de créer le canevas<br />              • l'axe des x pointe toujours vers la droite<br />              • l'axe des y pointe vers le bas (si les axes sont de type informatique) ou vers le haut (si les axes sont de type mathématique)<br />              <br />              Remarques<br />              • par défaut, les axes sont de type informatique</p>            <br />            <h4><a id="essai_erreur"></a>Essayer d'exécuter ... et faire ... en cas d'erreur</h4>            <center><img src="images/programmation/essai_erreur.png" height="180px" alt="" /></center>            <p>Paramètres<br />              • des <em>instructions</em> (rien ci-dessus, mais ça peut être              une liste d'instructions quelconque)<br />              • des <em>instructions en cas d'erreur</em> (rien ci-dessus, mais ça peut être              une liste d'instructions quelconque)<br />              <br />              Fonctionnement<br />              • les <em>instructions</em> sont exécutées<br />              • s'il n'y a pas d'erreur lors de cette exécution, le bloc se termine<br />              • en cas d'erreur lors de cette exécution, les <em>instructions                 en cas d'erreur</em> sont exécutées<br />              <br />              Remarques<br />              • ce bloc sert surtout à gérer le débogage</p>            <br />            <br />            <h4><a id="appendice1"></a>Appendice : commandes VS opérateurs              [retour (ou non) de valeurs par les fonctions]</h4>            <strong>(Pour les utilisateurs expérimentés)<br />            </strong><br />            <strong><em>Blockly</em></strong> fait une distinction très nette            entre deux types de fonctions : <br />            • les commandes qui ne retournent pas de valeur (fonctions définies            via des blocs sans composante <em>retour</em>), <br />            <img src="images/divers/commande.png" alt="" />                <img              src="images/divers/appelCommande.png"              alt="" /><br />            • et les opérations qui en retournent une (fonctions définies via            des blocs avec composante <em>retour</em>).<br />            <img src="images/divers/operation.png" alt="" />                <img              src="images/divers/appelOperation.png"              alt="" />            <br />            <br />            Par contre, dans le cadre de <strong><em>p5Visuel</em></strong>, on            traduit les programme <strong><em>Blockly</em></strong> en  <strong><em>JavaScript</em></strong>,            qui est utilisé dans la fabrication de nos pages web.   Or <strong><em>JavaScript</em></strong>            ne fait pas une distinction marquée entre les commandes et les            opérateurs : en fait, dans le cas d'une fonction associée à un clic            sur un bouton, <strong><em>Blockly</em></strong> exige            l'utilisation d'une opération, alors que la fonction appelée est            foncièrement une commande.<br />            <br />            Pour retrouver cette souplesse de <strong><em>JavaScript</em></strong>            dans <strong><em>Blockly</em></strong>, <strong><em>p5Visuel</em></strong>            propose des moyens de transformer<br />            • une opération en commande : en utilisant le bloc <em>Faire<br />              <img src="images/divers/faireOp.png" alt="" height="60px" /></em><br />            • une commande en opération : en utilisant le bloc <em>Quitter</em>            avec une valeur de retour dans la définition de la commande.<br />            <img src="images/divers/quitterRetour.png" alt="" height="60px" /></div>        </div>      </div>      <br class="clearfix" />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <br />      <div id="footer"> Créé par André Boileau.  Design par <a href="http://templated.co"          rel="nofollow">TEMPLATED</a>.      </div>    </div>  </body></html>